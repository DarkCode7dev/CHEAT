<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css"
        integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e" crossorigin="anonymous" />
</head>

<body data-bs-theme="dark">
    <div class="form-check form-switch mx-4">
        <input class="form-check-input p-2" type="checkbox" role="switch" id="flexSwitchCheckChecked" checked
            onclick="myFunction()" />
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="container-fluid p-2 align-items-center">
                    <div class="d-flex justify-content-around">
                        <button class="btn bg-success text-white btn-sm rounded-pill stepper-btn" style="width: 2rem; height: 2rem"
                            data-bs-target="#company1">
                            1
                        </button>
                        <span class="bg-success w-25 rounded mt-auto mb-auto me-1 ms-1" style="height: 0.2rem"></span>
                        <button class="btn bg-success text-white btn-sm rounded-pill stepper-btn" style="width: 2rem; height: 2rem"
                            data-bs-target="#company2">
                            2
                        </button>
                        <span class="bg-success w-25 rounded mt-auto mb-auto me-1 ms-1" style="height: 0.2rem"></span>
                        <button class="btn bg-success text-white btn-sm rounded-pill stepper-btn" style="width: 2rem; height: 2rem"
                            data-bs-target="#company3">
                            3
                        </button>
                        <span class="bg-success w-25 rounded mt-auto mb-auto me-1 ms-1" style="height: 0.2rem"></span>
                        <button class="btn bg-success text-white btn-sm rounded-pill stepper-btn" style="width: 2rem; height: 2rem"
                            data-bs-target="#company4">
                            4
                        </button>
                    </div>
                </div>

                <div class="collapse show" id="company1">
                    <div class="display-4">Company 1</div>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet, consectetur
                        adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
                        ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                        consequat. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
                        incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                        ullamco laboris nisi ut aliquip ex ea commodo consequat.
                    </p>
                </div>
                <div class="collapse" id="company2">
                    <div class="display-4">Company 2</div>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet, consectetur
                        adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
                        ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                        consequat.
                    </p>
                </div>
                <div class="collapse" id="company3">
                    <div class="display-4">Company 3</div>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet, consectetur
                        adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
                        ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                        consequat.
                    </p>
                </div>
                <div class="collapse" id="company4">
                    <div class="display-4">Company 4</div>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet, consectetur
                        adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
                        ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                        consequat.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-between mt-4 mx-4">
        <button class="btn btn-primary" onclick="showPreviousCompany()" id="previousBtn" disabled>Previous</button>
        <button class="btn btn-primary" onclick="showNextCompany()" id="nextBtn">Next</button>
    </div>

    <script>
        let currentCompanyIndex = 0;
        const companies = document.querySelectorAll(".collapse");
        const stepperButtons = document.querySelectorAll(".stepper-btn");

        // Event listener for stepper buttons
        stepperButtons.forEach((button, index) => {
            button.addEventListener("click", function () {
                currentCompanyIndex = index;
                showCompany(currentCompanyIndex);
            });
        });

        // Bootstrap event listener for showing a collapse element
        companies.forEach((company, index) => {
            company.addEventListener('show.bs.collapse', function (event) {
                currentCompanyIndex = index;
                showCompany(currentCompanyIndex);
            });
        });

        function showCompany(index) {
            companies.forEach((company, i) => {
                if (i === index) {
                    company.classList.add("show");
                } else {
                    company.classList.remove("show");
                }
            });

            document.getElementById("previousBtn").disabled = index === 0;
            document.getElementById("nextBtn").disabled = index === companies.length - 1;
        }

        function showNextCompany() {
            if (currentCompanyIndex < companies.length - 1) {
                currentCompanyIndex++;
                showCompany(currentCompanyIndex);
            }
        }

        function showPreviousCompany() {
            if (currentCompanyIndex > 0) {
                currentCompanyIndex--;
                showCompany(currentCompanyIndex);
            }
        }

        function myFunction() {
            var element = document.body;
            element.dataset.bsTheme = element.dataset.bsTheme == "light" ? "dark" : "light";
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD"
        crossorigin="anonymous"></script>
</body>

</html>
